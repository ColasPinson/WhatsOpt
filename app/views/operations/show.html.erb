<div class="btn-toolbar float-right">
<%= button_to operation_path(@ope.analysis.prev_operation_id(@ope.id)), 
    method: :get, class: "btn ml-2", title:"Previous Operation", disabled: @ope.analysis.prev_operation_id(@ope.id) < 0 do %>
  <span class="fa fa-angle-left"></span>
<% end %> 
<%= button_to operation_path(@ope.analysis.next_operation_id(@ope.id)), 
  method: :get, class: "btn ml-2", title:"Next Operation", disabled: @ope.analysis.next_operation_id(@ope.id) < 0 do %>
  <span class="fa fa-angle-right"></span>
<% end %> 
<%= button_to mda_operations_path(@ope.analysis_id), method: :get, class: "btn ml-2", title:"List" do %>
  <span class="fa fa-ellipsis-v"></span>
  List Operations
<% end %> 
<% if policy(@ope).edit? && @ope.rerunnable? %>
  <%= button_to edit_operation_path(@ope), method: :get, class: "btn ml-2", title:"Re-run" do %>
    <span class="fa fa-rocket"></span>
    Re-run
  <% end %> 
<% end %>
<% if policy(@ope).destroy? %>
  <%= button_to operation_path(@ope), method: :delete, data: { title: 'Are you sure?', 
	                                                            confirm: "Remove #{@mda.name} #{@ope.name} operation?",
	                                                            commit: 'Yes',
	                                                            cancel: 'No, cancel' }, 
	              class: "btn ml-2", title:"Delete" do %>
    <span class="fa fa-times"></span>
      Delete
  <% end %> 
<% end %>
<%= button_to mda_path(@mda), method: :get, class:"btn ml-2" do |b|%>
  <span class="fa fa-times-circle"></span>
    Close
<% end %>      
</div>

<% if @ope.sensitivity_analysis? %>
  <div id="sensitivity_plotter" data-mda="<%= @mda.to_mda_viewer_json %>" data-ope="<%= @ope.to_plotter_json %>" data-api-key="<%=current_user.api_key%>"></div> 
  <%= javascript_pack_tag 'sensitivity_plotter_application' %>
<% elsif @ope.meta_model? %>
  <div id="metamodel_quality_plotter" data-mda-name="<%= @mda.name %>" data-quality="<%= @mda.build_metamodel_quality.to_json %>" ></div> 
  <%= javascript_pack_tag 'metamodel_quality_plotter_application' %>
<% else %>
  <div id="plotter" data-mda="<%= @mda.to_mda_viewer_json %>" data-ope="<%= @ope.to_plotter_json %>" data-api-key="<%=current_user.api_key%>"></div> 
  <%= javascript_pack_tag 'plotter_application' %>
<% end %>
